import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang-Dy9x6f4y.js";import{c,w as s,f as y,e as u,p as o,o as E,g as e,h as i,r as a}from"./app-CLGX1n_q.js";import"./YunComment.vue_vue_type_style_index_0_lang-D20ev_5r.js";import"./index-C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-BWxP3HbI.js";import"./post-CIcC9C2_.js";const j={__name:"vue-1",setup(g,{expose:p}){const t=JSON.parse('{"title":"vue3.0 ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Proxyï¼Œå®ƒç›¸æ¯”ä»¥å‰çš„å®žçŽ°æ–¹å¼æœ‰ä»€ä¹ˆæ”¹è¿›","description":"","frontmatter":{"title":"vue3.0 ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Proxyï¼Œå®ƒç›¸æ¯”ä»¥å‰çš„å®žçŽ°æ–¹å¼æœ‰ä»€ä¹ˆæ”¹è¿›","date":"2024-12-10","updated":"2024-12-10","categories":"vue é¢è¯•","tags":["vue","é¢è¯•"],"top":90},"headers":[{"level":3,"title":"ç®€å•æè¿°","slug":"ç®€å•æè¿°","link":"#ç®€å•æè¿°","children":[]},{"level":3,"title":"ç•¥å¾®è¯¦ç»†","slug":"ç•¥å¾®è¯¦ç»†","link":"#ç•¥å¾®è¯¦ç»†","children":[]},{"level":3,"title":"è¯¦ç»†ç‰ˆæœ¬","slug":"è¯¦ç»†ç‰ˆæœ¬","link":"#è¯¦ç»†ç‰ˆæœ¬","children":[]},{"level":3,"title":"è§£å†³vue2 Object.definePropertyçš„éš¾é¢˜","slug":"è§£å†³vue2-object-definepropertyçš„éš¾é¢˜","link":"#è§£å†³vue2-object-definepropertyçš„éš¾é¢˜","children":[]}],"relativePath":"pages/posts/vue/vue-1.md","path":"/home/runner/work/xx-blog/xx-blog/pages/posts/vue/vue-1.md","lastUpdated":1733798212000}'),r=u(),n=t.frontmatter||{};return r.meta.frontmatter=Object.assign(r.meta.frontmatter||{},t.frontmatter||{}),o("pageData",t),o("valaxy:frontmatter",n),globalThis.$frontmatter=n,p({frontmatter:{title:"vue3.0 ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Proxyï¼Œå®ƒç›¸æ¯”ä»¥å‰çš„å®žçŽ°æ–¹å¼æœ‰ä»€ä¹ˆæ”¹è¿›",date:"2024-12-10",updated:"2024-12-10",categories:"vue é¢è¯•",tags:["vue","é¢è¯•"],top:90}}),(l,h)=>{const k=d;return E(),c(k,{frontmatter:y(n)},{"main-content-md":s(()=>h[0]||(h[0]=[e("h3",{id:"ç®€å•æè¿°",tabindex:"-1"},[i("ç®€å•æè¿° "),e("a",{class:"header-anchor",href:"#ç®€å•æè¿°","aria-label":'Permalink to "ç®€å•æè¿°"'},"â€‹")],-1),e("p",null,"æ€§èƒ½æ›´å¥½ï¼Œè§£å†³æ— æ³•ç›‘å¬æ•°ç»„å˜åŒ–é—®é¢˜",-1),e("h3",{id:"ç•¥å¾®è¯¦ç»†",tabindex:"-1"},[i("ç•¥å¾®è¯¦ç»† "),e("a",{class:"header-anchor",href:"#ç•¥å¾®è¯¦ç»†","aria-label":'Permalink to "ç•¥å¾®è¯¦ç»†"'},"â€‹")],-1),e("ul",null,[e("li",null,"Vue2.xé€šè¿‡ç»™æ¯ä¸ªå¯¹è±¡æ·»åŠ getter setterå±žæ€§åŽ»æ”¹å˜å¯¹è±¡,å®žçŽ°å¯¹æ•°æ®çš„è§‚æµ‹,Vue3.xé€šè¿‡Proxyä»£ç†ç›®æ ‡å¯¹è±¡,ä¸”ä¸€å¼€å§‹åªä»£ç†æœ€å¤–å±‚å¯¹è±¡,åµŒå¥—å¯¹è±¡lazy by default ,æ€§èƒ½ä¼šæ›´å¥½"),e("li",null,"æ”¯æŒæ•°ç»„ç´¢å¼•ä¿®æ”¹,å¯¹è±¡å±žæ€§çš„å¢žåŠ ,åˆ é™¤")],-1),e("h3",{id:"è¯¦ç»†ç‰ˆæœ¬",tabindex:"-1"},[i("è¯¦ç»†ç‰ˆæœ¬ "),e("a",{class:"header-anchor",href:"#è¯¦ç»†ç‰ˆæœ¬","aria-label":'Permalink to "è¯¦ç»†ç‰ˆæœ¬"'},"â€‹")],-1),e("p",null,"åœ¨Vue 3.0 ä¸­ä½¿ç”¨ Proxy ä¸»è¦æ˜¯ä¸ºäº†å®žçŽ°å“åº”å¼æ•°æ®çš„å˜åŒ–æ£€æµ‹å’Œè§¦å‘ã€‚ç›¸æ¯”äºŽ Vue 2.x ä¸­ä½¿ç”¨çš„ Object.definePropertyï¼ŒProxy æä¾›äº†æ›´å¼ºå¤§å’Œçµæ´»çš„åŠŸèƒ½ï¼Œä»¥åŠæ›´å¥½çš„æ€§èƒ½è¡¨çŽ°ã€‚",-1),e("p",null,"ä»¥ä¸‹æ˜¯ Proxy ç›¸æ¯” Object.defineProperty çš„ä¸€äº›æ”¹è¿›å’Œä¼˜åŠ¿ï¼š",-1),e("ol",null,[e("li",null,[e("p",null,"æ›´å¼ºå¤§å’Œçµæ´»ï¼šProxy å¯ä»¥ä»£ç†æ•´ä¸ªå¯¹è±¡ï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹è±¡çš„å±žæ€§ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥ç›‘å¬å¯¹è±¡çš„æ•´ä¸ªæ“ä½œï¼ŒåŒ…æ‹¬å±žæ€§çš„å¢žåˆ æ”¹æŸ¥ç­‰ã€‚è€Œ Object.defineProperty åªèƒ½ç›‘å¬å¯¹è±¡çš„å±žæ€§çš„è¯»å–å’Œèµ‹å€¼æ“ä½œã€‚")]),e("li",null,[e("p",null,"æ›´ç›´è§‚å’Œæ˜“ç”¨ï¼šä½¿ç”¨ Proxy å¯ä»¥æ›´ç›´è§‚åœ°ç›‘å¬å¯¹è±¡çš„æ“ä½œï¼Œè€Œä¸éœ€è¦åƒ Object.defineProperty é‚£æ ·æ‰‹åŠ¨å®šä¹‰ getter å’Œ setterã€‚è¿™ä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œæ˜“äºŽç†è§£ã€‚")]),e("li",null,[e("p",null,"æ›´å¥½çš„æ€§èƒ½ï¼šProxy çš„æ€§èƒ½é€šå¸¸æ¯” Object.defineProperty æ›´å¥½ï¼Œå› ä¸º Proxy æ˜¯åŽŸç”Ÿå®žçŽ°çš„ï¼Œè€Œ Object.defineProperty æ˜¯ JavaScript å¼•æ“Žçš„å†…éƒ¨å®žçŽ°ã€‚Proxy çš„åº•å±‚å®žçŽ°æ›´é«˜æ•ˆï¼Œå¯ä»¥æ›´å¥½åœ°å¤„ç†å¤§åž‹å¯¹è±¡å’Œå¤šæ¬¡æ“ä½œã€‚")]),e("li",null,[e("p",null,"æ”¯æŒæ•°ç»„å˜åŒ–çš„æ£€æµ‹ï¼šä½¿ç”¨ Proxy å¯ä»¥å¾ˆå®¹æ˜“åœ°ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼ŒåŒ…æ‹¬æ•°ç»„çš„ pushã€popã€splice ç­‰æ“ä½œã€‚è€Œ Object.defineProperty éš¾ä»¥å®žçŽ°å¯¹æ•°ç»„å˜åŒ–çš„ç›‘å¬ã€‚")])],-1),e("h4",{id:"object-defineproerty",tabindex:"-1"},[e("code",null,"Object.defineProerty"),i(),e("a",{class:"header-anchor",href:"#object-defineproerty","aria-label":'Permalink to "`Object.defineProerty`"'},"â€‹")],-1),e("p",null,"Object.definePropertyæ˜¯ES5çš„å±žæ€§",-1),e("blockquote",null,[e("p",null,"Object.defineProperty(object, property, descriptor)")],-1),e("p",null,[i("å‚è€ƒï¼š"),e("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty",target:"_blank",rel:"noreferrer"},"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty")],-1),e("h5",{id:"å‚æ•°",tabindex:"-1"},[i("å‚æ•° "),e("a",{class:"header-anchor",href:"#å‚æ•°","aria-label":'Permalink to "å‚æ•°"'},"â€‹")],-1),e("p",null,"object: è¦å®šä¹‰å±žæ€§çš„å¯¹è±¡ property: è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±žæ€§çš„åç§°æˆ– Symbol descriptor: è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±žæ€§æè¿°ç¬¦",-1),e("div",{class:"language-javascript vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"descriptor"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": {  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  value"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": é»˜è®¤ä¸º "),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"undefined"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // è¯¥å±žæ€§å¯¹åº”çš„å€¼ã€‚å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼ï¼ˆæ•°å€¼ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼‰")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  writable"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": é»˜è®¤ä¸º "),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"false"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // å½“ä¸”ä»…å½“è¯¥å±žæ€§çš„ writable é”®å€¼ä¸º true æ—¶ï¼Œå±žæ€§çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ valueï¼Œæ‰èƒ½è¢«èµ‹å€¼è¿ç®—ç¬¦æ”¹å˜")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  enumerable"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": é»˜è®¤ä¸º "),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"false"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // å½“ä¸”ä»…å½“è¯¥å±žæ€§çš„ enumerable é”®å€¼ä¸º true æ—¶ï¼Œè¯¥å±žæ€§æ‰ä¼šå‡ºçŽ°åœ¨å¯¹è±¡çš„æžšä¸¾å±žæ€§ä¸­")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  configurable"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": é»˜è®¤ä¸º "),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"false"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // å½“ä¸”ä»…å½“è¯¥å±žæ€§çš„ configurable é”®å€¼ä¸º true æ—¶ï¼Œè¯¥å±žæ€§æ‰å¯ä»¥è¢«åˆ é™¤ï¼Œä»¥åŠé™¤ value å’Œ writable ç‰¹æ€§å¤–çš„å…¶ä»–ç‰¹æ€§æ‰èƒ½å¯ä»¥è¢«ä¿®æ”¹")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  get"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": é»˜è®¤ä¸º"),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"undefined"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // å±žæ€§çš„ getter å‡½æ•°ï¼Œå¦‚æžœæ²¡æœ‰ getterï¼Œåˆ™ä¸º undefinedã€‚å½“è®¿é—®è¯¥å±žæ€§æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚è¯¥å‡½æ•°çš„è¿”å›žå€¼å°±æ˜¯å±žæ€§çš„å€¼ã€‚")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  set"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": é»˜è®¤ä¸º"),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"undefined"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",  ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // å±žæ€§çš„ setter å‡½æ•°ï¼Œå¦‚æžœæ²¡æœ‰ setterï¼Œåˆ™ä¸º undefinedã€‚å½“å±žæ€§å€¼è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚è¯¥æ–¹æ³•æŽ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯è¢«èµ‹äºˆçš„æ–°å€¼ï¼‰ã€‚")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),e("button",{class:"collapse"})],-1),e("h4",{id:"proxy",tabindex:"-1"},[e("code",null,"Proxy"),i(),e("a",{class:"header-anchor",href:"#proxy","aria-label":'Permalink to "`Proxy`"'},"â€‹")],-1),e("h5",{id:"æ¦‚å¿µ",tabindex:"-1"},[i("æ¦‚å¿µ "),e("a",{class:"header-anchor",href:"#æ¦‚å¿µ","aria-label":'Permalink to "æ¦‚å¿µ"'},"â€‹")],-1),e("p",null,[e("code",null,"Proxy"),i(" å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æž¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚"),e("code",null,"Proxy"),i(" è¿™ä¸ªè¯çš„åŽŸæ„æ˜¯ä»£ç†ï¼Œç”¨åœ¨è¿™é‡Œè¡¨ç¤ºç”±å®ƒæ¥â€œä»£ç†â€æŸäº›æ“ä½œï¼Œå¯ä»¥è¯‘ä¸ºâ€œä»£ç†å™¨â€ã€‚")],-1),e("div",{class:"language-javascript vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," proxy "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Proxy"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(target, handler);")])])]),e("button",{class:"collapse"})],-1),e("h5",{id:"å‚æ•°-1",tabindex:"-1"},[i("å‚æ•° "),e("a",{class:"header-anchor",href:"#å‚æ•°-1","aria-label":'Permalink to "å‚æ•°"'},"â€‹")],-1),e("p",null,[e("code",null,"target"),i(" å‚æ•°è¡¨ç¤ºæ‰€è¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡ï¼Œ"),e("code",null,"handler"),i(" å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶ä»£ç†æ‹¦æˆªè¡Œä¸ºã€‚ "),e("code",null,"Proxy"),i(" å¯¹è±¡çš„æ‰€æœ‰ç”¨æ³•ï¼Œéƒ½æ˜¯ä¸Šé¢è¿™ç§å½¢å¼ï¼Œä¸åŒçš„åªæ˜¯ "),e("code",null,"handler"),i(" å‚æ•°çš„å†™æ³•ã€‚å…¶ä¸­ï¼Œ"),e("code",null,"new Proxy()"),i(" è¡¨ç¤ºç”Ÿæˆä¸€ä¸ª"),e("code",null,"Proxy"),i("å®žä¾‹ã€‚")],-1),e("h6",{id:"handlerè§£æž",tabindex:"-1"},[i("handlerè§£æž "),e("a",{class:"header-anchor",href:"#handlerè§£æž","aria-label":'Permalink to "handlerè§£æž"'},"â€‹")],-1),e("p",null,"å…³äºŽhandleræ‹¦æˆªå±žæ€§ï¼Œæœ‰å¦‚ä¸‹ï¼š",-1),e("ul",null,[e("li",null,[e("code",null,"get(target,propKey,receiver)"),i("ï¼šæ‹¦æˆªå¯¹è±¡å±žæ€§çš„è¯»å–")]),e("li",null,[e("code",null,"set(target,propKey,value,receiver)"),i("ï¼šæ‹¦æˆªå¯¹è±¡å±žæ€§çš„è®¾ç½®")]),e("li",null,[e("code",null,"has(target,propKey)"),i("ï¼šæ‹¦æˆª"),e("code",null,"propKey in proxy"),i("çš„æ“ä½œï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼")]),e("li",null,[e("code",null,"deleteProperty(target,propKey)"),i("ï¼šæ‹¦æˆª"),e("code",null,"delete proxy[propKey]"),i("çš„æ“ä½œï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼")]),e("li",null,[e("code",null,"ownKeys(target)"),i("ï¼šæ‹¦æˆª"),e("code",null,"Object.keys(proxy)ã€for...in"),i("ç­‰å¾ªçŽ¯ï¼Œè¿”å›žä¸€ä¸ªæ•°ç»„")]),e("li",null,[e("code",null,"getOwnPropertyDescriptor(target, propKey)"),i("ï¼šæ‹¦æˆª"),e("code",null,"Object.getOwnPropertyDescriptor(proxy, propKey)"),i("ï¼Œè¿”å›žå±žæ€§çš„æè¿°å¯¹è±¡")]),e("li",null,[e("code",null,"defineProperty(target, propKey, propDesc)"),i("ï¼šæ‹¦æˆª"),e("code",null,"Object.defineProperty(proxy, propKey, propDesc"),i("ï¼‰ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼")]),e("li",null,[e("code",null,"preventExtensions(target)"),i("ï¼šæ‹¦æˆª"),e("code",null,"Object.preventExtensions(proxy)"),i("ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼")]),e("li",null,[e("code",null,"getPrototypeOf(target)"),i("ï¼šæ‹¦æˆª"),e("code",null,"Object.getPrototypeOf(proxy)"),i("ï¼Œè¿”å›žä¸€ä¸ªå¯¹è±¡")]),e("li",null,[e("code",null,"isExtensible(target)"),i("ï¼šæ‹¦æˆª"),e("code",null,"Object.isExtensible(proxy)"),i("ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼")]),e("li",null,[e("code",null,"setPrototypeOf(target, proto)"),i("ï¼šæ‹¦æˆª"),e("code",null,"Object.setPrototypeOf(proxy, proto)"),i("ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼")]),e("li",null,[e("code",null,"apply(target, object, args)"),i("ï¼šæ‹¦æˆª "),e("code",null,"Proxy"),i(" å®žä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œ")]),e("li",null,[e("code",null,"construct(target, args)"),i("ï¼šæ‹¦æˆª "),e("code",null,"Proxy"),i(" å®žä¾‹ä½œä¸ºæž„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œ")])],-1),e("h5",{id:"ðŸŒ°",tabindex:"-1"},[i("ðŸŒ° "),e("a",{class:"header-anchor",href:"#ðŸŒ°","aria-label":'Permalink to "ðŸŒ°"'},"â€‹")],-1),e("div",{class:"language-javascript vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," proxy "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Proxy"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   },{")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  get"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),e("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"target"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},","),e("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"key"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   ")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    // target æ˜¯è¦ä»£ç†çš„å¯¹è±¡ï¼Œkey æ˜¯è¦èŽ·å–çš„å±žæ€§")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    // åŽŸå¯¹è±¡çš„å±žæ€§åç§°åœ¨ä»£ç†ä¹‹åŽæ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    return"),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 35")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  }")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"console."),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(proxy.name); "),e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 35")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"console."),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(proxy.age);  "),e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 35")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"console."),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(proxy.time); "),e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 35")])])]),e("button",{class:"collapse"})],-1),e("h4",{id:"reflect",tabindex:"-1"},[i("Reflect "),e("a",{class:"header-anchor",href:"#reflect","aria-label":'Permalink to "Reflect"'},"â€‹")],-1),e("p",null,"è‹¥éœ€è¦åœ¨Proxyå†…éƒ¨è°ƒç”¨å¯¹è±¡çš„é»˜è®¤è¡Œä¸ºï¼Œå»ºè®®ä½¿ç”¨Reflectï¼Œå…¶æ˜¯ES6ä¸­æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–° API",-1),e("p",null,"åŸºæœ¬ç‰¹ç‚¹ï¼š",-1),e("p",null,"åªè¦Proxyå¯¹è±¡å…·æœ‰çš„ä»£ç†æ–¹æ³•ï¼ŒReflectå¯¹è±¡å…¨éƒ¨å…·æœ‰ï¼Œä»¥é™æ€æ–¹æ³•çš„å½¢å¼å­˜åœ¨ ä¿®æ”¹æŸäº›Objectæ–¹æ³•çš„è¿”å›žç»“æžœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ï¼ˆå®šä¹‰ä¸å­˜åœ¨å±žæ€§è¡Œä¸ºçš„æ—¶å€™ä¸æŠ¥é”™è€Œæ˜¯è¿”å›žfalseï¼‰ è®©Objectæ“ä½œéƒ½å˜æˆå‡½æ•°è¡Œä¸º.",-1),e("p",null,"é˜…è¯» Proxy çš„ MDN æ–‡æ¡£ä¸Šå¯èƒ½ä¼šå‘çŽ°å…¶å®ž Proxy ä¸­ get é™·é˜±ä¸­è¿˜ä¼šå­˜åœ¨ä¸€ä¸ªé¢å¤–çš„å‚æ•° receiver ã€‚ é€šè¿‡æˆ‘ä»¬ä¸Šè¿°å¯¹ window.Reflect çš„æ‰“å°å¯ä»¥çœ‹åˆ°ï¼ŒReflect çš„æ–¹æ³•ã€å±žæ€§å’Œ Proxy æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ Reflect get ä¹Ÿæ˜¯æœ‰è¿™ ç¬¬ä¸‰ä¸ª receiver å±žæ€§çš„ï¼›è¿™ä¸ªreceiveræ˜¯è§¦å‘ä»£ç†å¯¹è±¡çš„åŠ«æŒæ—¶ä¿è¯æ­£ç¡®çš„ this ä¸Šä¸‹æ–‡æŒ‡å‘ï¼Œå®ƒæ­£æ˜¯å¯ä»¥ä¿®æ”¹å±žæ€§è®¿é—®ä¸­çš„ this æŒ‡å‘ä¸ºä¼ å…¥çš„ receiver å¯¹è±¡ã€‚ä¹Ÿæ˜¯ä¸ºäº†æ¡†æž¶å¥å£®æ€§ã€‚ä½¿ç”¨ Object.defineProperty() é‡å¤å£°æ˜Žçš„å±žæ€§ä¼šæŠ¥é”™ï¼Œå› ä¸º JavaScript æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œä¸€æ—¦æŠ›å‡ºå¼‚å¸¸ï¼ŒåŽè¾¹çš„ä»»ä½•é€»è¾‘éƒ½ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åœ¨åº•å±‚å°±è¦å†™ å¤§é‡çš„ try catch æ¥é¿å…ï¼Œä¸å¤Ÿä¼˜é›…ã€‚ ä½†æ˜¯ä½¿ç”¨ Reflect.defineProperty() æ˜¯æœ‰è¿”å›žå€¼çš„ï¼Œæ‰€ä»¥é€šè¿‡ è¿”å›žå€¼ æ¥åˆ¤æ–­ä½ å½“å‰æ“ä½œæ˜¯å¦æˆåŠŸã€‚",-1),e("h3",{id:"è§£å†³vue2-object-definepropertyçš„éš¾é¢˜",tabindex:"-1"},[i("è§£å†³vue2 Object.definePropertyçš„éš¾é¢˜ "),e("a",{class:"header-anchor",href:"#è§£å†³vue2-object-definepropertyçš„éš¾é¢˜","aria-label":'Permalink to "è§£å†³vue2 Object.definePropertyçš„éš¾é¢˜"'},"â€‹")],-1),e("ol",null,[e("li",null,"ä¸€æ¬¡åªèƒ½å¯¹ä¸€ä¸ªå±žæ€§è¿›è¡Œç›‘å¬ï¼Œéœ€è¦éåŽ†æ¥å¯¹æ‰€æœ‰å±žæ€§ç›‘å¬ã€‚è¿™ä¸ªæˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»è®²è¿‡äº†ã€‚"),e("li",null,"åœ¨é‡åˆ°ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œéœ€è¦é€’å½’ç›‘å¬ã€‚"),e("li",null,"å¯¹äºŽå¯¹è±¡çš„æ–°å¢žå±žæ€§ï¼Œéœ€è¦æ‰‹åŠ¨ç›‘å¬"),e("li",null,"å¯¹äºŽæ•°ç»„é€šè¿‡pushã€unshiftæ–¹æ³•å¢žåŠ çš„å…ƒç´ ï¼Œä¹Ÿæ— æ³•ç›‘å¬ ä½†æ˜¯çœ‹è¿‡vue3æºç çš„åŒå­¦å¯ä»¥å‘çŽ°ï¼Œvue3çš„å“åº”å¼å¹¶ä¸æ˜¯åªç”¨äº†proxyæ¥å®žçŽ°çš„ï¼Œè¿˜ç”¨äº†ä¸€ä¸ªæ­æ¡£Reflectã€‚ä¹Ÿå°±æ˜¯Proxy(ä»£ç†) é…åˆ Reflect(åå°„) è¿›è¡Œè®¾è®¡çš„ã€‚é‚£ä¹ˆå°±æœ‰ç–‘é—®äº† ä¸ºä»€ä¹ˆè¦ç”¨ä¸ŠReflectã€‚")],-1)])),"main-header":s(()=>[a(l.$slots,"main-header")]),"main-header-after":s(()=>[a(l.$slots,"main-header-after")]),"main-nav":s(()=>[a(l.$slots,"main-nav")]),"main-content":s(()=>[a(l.$slots,"main-content")]),"main-content-after":s(()=>[a(l.$slots,"main-content-after")]),"main-nav-before":s(()=>[a(l.$slots,"main-nav-before")]),"main-nav-after":s(()=>[a(l.$slots,"main-nav-after")]),comment:s(()=>[a(l.$slots,"comment")]),footer:s(()=>[a(l.$slots,"footer")]),aside:s(()=>[a(l.$slots,"aside")]),"aside-custom":s(()=>[a(l.$slots,"aside-custom")]),default:s(()=>[a(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{j as default};
