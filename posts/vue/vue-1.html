<!DOCTYPE html><html lang="en" data-critters-container><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://img.picgo.net/2024/11/27/IMG_2742a0295d98a1ea79ee.jpeg"><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><style type="text/css">:root{color-scheme:light dark;--va-c-bg:#fff}html.dark{--va-c-bg:#000}html{background-color:var(--va-c-bg)}</style><script>const locale=localStorage.getItem("valaxy-locale")||"zh-CN";document.documentElement.setAttribute("lang",locale)</script><script type="module" async crossorigin src="/xx-blog/assets/app-CLGX1n_q.js"></script><link rel="stylesheet" crossorigin href="/xx-blog/assets/app-CGM_433a.css"><link rel="modulepreload" crossorigin href="/xx-blog/assets/post-CPfdgEYd.js"><link rel="stylesheet" href="/xx-blog/assets/post-DDxwAI70.css"><link rel="modulepreload" crossorigin href="/xx-blog/assets/vue-1-CJ0hOOwB.js"><title>vue3.0 ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Proxyï¼Œå®ƒç›¸æ¯”ä»¥å‰çš„å®ç°æ–¹å¼æœ‰ä»€ä¹ˆæ”¹è¿› - æ¬£çš„ä»£ç é©¿ç«™</title><meta property="og:locale:alternate" content="en"><meta property="og:description" content><meta property="og:locale" content="zh-CN"><meta property="og:site_name" content="æ¬£çš„ä»£ç é©¿ç«™"><meta property="og:title" content="vue3.0 ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Proxyï¼Œå®ƒç›¸æ¯”ä»¥å‰çš„å®ç°æ–¹å¼æœ‰ä»€ä¹ˆæ”¹è¿›"><meta property="og:image" content="https://img.picgo.net/2024/11/27/IMG_2742a0295d98a1ea79ee.jpeg"><meta property="og:type" content="website"><meta property="og:url" content="https://nightsquirrl.github.io/xx-blog/"><link rel="icon" href="https://img.picgo.net/2024/11/27/IMG_2742a0295d98a1ea79ee.jpeg" type="image/png"><meta name="description" content><meta name="generator" content="Valaxy 0.20.4"><script id="check-mac-os" async>document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap"><meta name="theme-color" content="#fff"><meta name="msapplication-TileColor" content="#fff"></head><body><div id="app" data-server-rendered="true"><!--[--><!--[--><!----><!----><div class="yun-page-header-gradient" style="--gradient-from:161 196 253;--gradient-to:194 233 251"></div><!----><!----><!----><canvas class="fireworks"></canvas><!--[--><div class="yun-bg"></div><!--]--><div class="yun-page-loading" absolute left-0 right-0 bottom-0 top-0 flex justify="center" items-center z-10 bg="$va-c-bg" data-v-673bc094><div class="spinner" data-v-673bc094></div></div><a href="#" class="back-to-top yun-icon-btn bg-$va-c-bg-soft shadow-md"><div class="size-8" i-ri-arrow-up-s-line></div><svg class="progress-circle-container" viewBox="0 0 100 100"><circle stroke-dasharray="301.59289474462014 301.59289474462014" stroke-dashoffset="301.59289474462014" stroke="currentColor" stroke-width="2" stroke-linecap="round" class="progress-circle" cx="50" cy="50" r="48" fill="none"/></svg></a><!-- TODO --><!-- <YunDock /> --><!--]--><!--[--><!--]--><!----><!--[--><div flex="~" class="w-full m-auto justify-center items-start gap-4 mt-24 md:mt-36"><!--[--><!----><main class="yun-main lt-md:w-full" flex="~ center"><!--[--><div class="content w-full md:w-3xl lg:w-2xl xl:w-2xl 2xl:w-4xl" flex="~ col grow" p="lt-md:0"><div class="yun-card flex-center rounded relative" flex="col" min-h="100px" bg="$va-c-bg-light" m="0" style><!----><!----><!--[--><div class="mt-8 mb-4"><!--[--><header class="post-header"><h1 p="2" text="2xl center" font="serif black" style="" class="post-title flex-center"><!----><span inline-flex class="leading-none">vue3.0 ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Proxyï¼Œå®ƒç›¸æ¯”ä»¥å‰çš„å®ç°æ–¹å¼æœ‰ä»€ä¹ˆæ”¹è¿›</span></h1></header><!--]--></div><!--[--><!--[--><!--[--><!----><!----><div class="post-top-icon" color="$va-c-warning"><div i-ri-pushpin-line></div></div><div flex="~ center" text="sm" class="flex-col gap-2! post-meta gap-4"><div class="post-time flex items-center gap-4"><span class="posted-time inline-flex-center gap-1" title="å‘è¡¨äº2024-12-10 00:00:00"><div class="inline-block" i-ri-calendar-line></div><time class="op-80">2024-12-10</time></span><!----></div><div class="inline-flex-center gap-4"><!----><!----></div></div><!--]--><div class="inline-flex mt-2" text="sm" py="1"><a href="/xx-blog/categories?category=vue+%E9%9D%A2%E8%AF%95" class="transition post-category inline-flex-center text-xs border-$va-c-divider" px-2 h="7" border rounded-full hover="bg-blue-500 text-white"><div m="x-1" inline-flex i-ri-folder-2-line></div><span>vue é¢è¯•</span></a><span mx="2"></span><div class="post-tags inline-flex" items="center" gap="1" flex="wrap 1" justify="end"><!--[--><a href="/xx-blog/tags/?tag=vue" class="transition post-tag inline-flex-center text-xs border-$va-c-divider" px-2 h="7" rounded-full border hover="bg-blue-500 text-white"><span>vue</span></a><a href="/xx-blog/tags/?tag=%E9%9D%A2%E8%AF%95" class="transition post-tag inline-flex-center text-xs border-$va-c-divider" px-2 h="7" rounded-full border hover="bg-blue-500 text-white"><span>é¢è¯•</span></a><!--]--></div></div><!--]--><!--]--><div p="x-4 b-8" class="sm:px-6 lg:px-12 xl:px-16" w="full"><!--[--><!-- <Transition appear> --><article class="markdown-body"><!--[--><!----><!----><!--[--><h3 id="ç®€å•æè¿°" tabindex="-1">ç®€å•æè¿° <a class="header-anchor" href="#ç®€å•æè¿°" aria-label="Permalink to &quot;ç®€å•æè¿°&quot;">â€‹</a></h3><p>æ€§èƒ½æ›´å¥½ï¼Œè§£å†³æ— æ³•ç›‘å¬æ•°ç»„å˜åŒ–é—®é¢˜</p><h3 id="ç•¥å¾®è¯¦ç»†" tabindex="-1">ç•¥å¾®è¯¦ç»† <a class="header-anchor" href="#ç•¥å¾®è¯¦ç»†" aria-label="Permalink to &quot;ç•¥å¾®è¯¦ç»†&quot;">â€‹</a></h3><ul><li>Vue2.xé€šè¿‡ç»™æ¯ä¸ªå¯¹è±¡æ·»åŠ getter setterå±æ€§å»æ”¹å˜å¯¹è±¡,å®ç°å¯¹æ•°æ®çš„è§‚æµ‹,Vue3.xé€šè¿‡Proxyä»£ç†ç›®æ ‡å¯¹è±¡,ä¸”ä¸€å¼€å§‹åªä»£ç†æœ€å¤–å±‚å¯¹è±¡,åµŒå¥—å¯¹è±¡lazy by default ,æ€§èƒ½ä¼šæ›´å¥½</li><li>æ”¯æŒæ•°ç»„ç´¢å¼•ä¿®æ”¹,å¯¹è±¡å±æ€§çš„å¢åŠ ,åˆ é™¤</li></ul><h3 id="è¯¦ç»†ç‰ˆæœ¬" tabindex="-1">è¯¦ç»†ç‰ˆæœ¬ <a class="header-anchor" href="#è¯¦ç»†ç‰ˆæœ¬" aria-label="Permalink to &quot;è¯¦ç»†ç‰ˆæœ¬&quot;">â€‹</a></h3><p>åœ¨Vue 3.0 ä¸­ä½¿ç”¨ Proxy ä¸»è¦æ˜¯ä¸ºäº†å®ç°å“åº”å¼æ•°æ®çš„å˜åŒ–æ£€æµ‹å’Œè§¦å‘ã€‚ç›¸æ¯”äº Vue 2.x ä¸­ä½¿ç”¨çš„ Object.definePropertyï¼ŒProxy æä¾›äº†æ›´å¼ºå¤§å’Œçµæ´»çš„åŠŸèƒ½ï¼Œä»¥åŠæ›´å¥½çš„æ€§èƒ½è¡¨ç°ã€‚</p><p>ä»¥ä¸‹æ˜¯ Proxy ç›¸æ¯” Object.defineProperty çš„ä¸€äº›æ”¹è¿›å’Œä¼˜åŠ¿ï¼š</p><ol><li><p>æ›´å¼ºå¤§å’Œçµæ´»ï¼šProxy å¯ä»¥ä»£ç†æ•´ä¸ªå¯¹è±¡ï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹è±¡çš„å±æ€§ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥ç›‘å¬å¯¹è±¡çš„æ•´ä¸ªæ“ä½œï¼ŒåŒ…æ‹¬å±æ€§çš„å¢åˆ æ”¹æŸ¥ç­‰ã€‚è€Œ Object.defineProperty åªèƒ½ç›‘å¬å¯¹è±¡çš„å±æ€§çš„è¯»å–å’Œèµ‹å€¼æ“ä½œã€‚</p></li><li><p>æ›´ç›´è§‚å’Œæ˜“ç”¨ï¼šä½¿ç”¨ Proxy å¯ä»¥æ›´ç›´è§‚åœ°ç›‘å¬å¯¹è±¡çš„æ“ä½œï¼Œè€Œä¸éœ€è¦åƒ Object.defineProperty é‚£æ ·æ‰‹åŠ¨å®šä¹‰ getter å’Œ setterã€‚è¿™ä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œæ˜“äºç†è§£ã€‚</p></li><li><p>æ›´å¥½çš„æ€§èƒ½ï¼šProxy çš„æ€§èƒ½é€šå¸¸æ¯” Object.defineProperty æ›´å¥½ï¼Œå› ä¸º Proxy æ˜¯åŸç”Ÿå®ç°çš„ï¼Œè€Œ Object.defineProperty æ˜¯ JavaScript å¼•æ“çš„å†…éƒ¨å®ç°ã€‚Proxy çš„åº•å±‚å®ç°æ›´é«˜æ•ˆï¼Œå¯ä»¥æ›´å¥½åœ°å¤„ç†å¤§å‹å¯¹è±¡å’Œå¤šæ¬¡æ“ä½œã€‚</p></li><li><p>æ”¯æŒæ•°ç»„å˜åŒ–çš„æ£€æµ‹ï¼šä½¿ç”¨ Proxy å¯ä»¥å¾ˆå®¹æ˜“åœ°ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼ŒåŒ…æ‹¬æ•°ç»„çš„ pushã€popã€splice ç­‰æ“ä½œã€‚è€Œ Object.defineProperty éš¾ä»¥å®ç°å¯¹æ•°ç»„å˜åŒ–çš„ç›‘å¬ã€‚</p></li></ol><h4 id="object-defineproerty" tabindex="-1"><code>Object.defineProerty</code> <a class="header-anchor" href="#object-defineproerty" aria-label="Permalink to &quot;`Object.defineProerty`&quot;">â€‹</a></h4><p>Object.definePropertyæ˜¯ES5çš„å±æ€§</p><blockquote><p>Object.defineProperty(object, property, descriptor)</p></blockquote><p>å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty</a></p><h5 id="å‚æ•°" tabindex="-1">å‚æ•° <a class="header-anchor" href="#å‚æ•°" aria-label="Permalink to &quot;å‚æ•°&quot;">â€‹</a></h5><p>object: è¦å®šä¹‰å±æ€§çš„å¯¹è±¡ property: è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°æˆ– Symbol descriptor: è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">descriptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: é»˜è®¤ä¸º </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // è¯¥å±æ€§å¯¹åº”çš„å€¼ã€‚å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼ï¼ˆæ•°å€¼ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  writable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: é»˜è®¤ä¸º </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ writable é”®å€¼ä¸º true æ—¶ï¼Œå±æ€§çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ valueï¼Œæ‰èƒ½è¢«èµ‹å€¼è¿ç®—ç¬¦æ”¹å˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  enumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: é»˜è®¤ä¸º </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ enumerable é”®å€¼ä¸º true æ—¶ï¼Œè¯¥å±æ€§æ‰ä¼šå‡ºç°åœ¨å¯¹è±¡çš„æšä¸¾å±æ€§ä¸­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  configurable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: é»˜è®¤ä¸º </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ configurable é”®å€¼ä¸º true æ—¶ï¼Œè¯¥å±æ€§æ‰å¯ä»¥è¢«åˆ é™¤ï¼Œä»¥åŠé™¤ value å’Œ writable ç‰¹æ€§å¤–çš„å…¶ä»–ç‰¹æ€§æ‰èƒ½å¯ä»¥è¢«ä¿®æ”¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: é»˜è®¤ä¸º</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // å±æ€§çš„ getter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ getterï¼Œåˆ™ä¸º undefinedã€‚å½“è®¿é—®è¯¥å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚è¯¥å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯å±æ€§çš„å€¼ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: é»˜è®¤ä¸º</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // å±æ€§çš„ setter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ setterï¼Œåˆ™ä¸º undefinedã€‚å½“å±æ€§å€¼è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯è¢«èµ‹äºˆçš„æ–°å€¼ï¼‰ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre><button class="collapse"></button></div><h4 id="proxy" tabindex="-1"><code>Proxy</code> <a class="header-anchor" href="#proxy" aria-label="Permalink to &quot;`Proxy`&quot;">â€‹</a></h4><h5 id="æ¦‚å¿µ" tabindex="-1">æ¦‚å¿µ <a class="header-anchor" href="#æ¦‚å¿µ" aria-label="Permalink to &quot;æ¦‚å¿µ&quot;">â€‹</a></h5><p><code>Proxy</code> å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚<code>Proxy</code> è¿™ä¸ªè¯çš„åŸæ„æ˜¯ä»£ç†ï¼Œç”¨åœ¨è¿™é‡Œè¡¨ç¤ºç”±å®ƒæ¥â€œä»£ç†â€æŸäº›æ“ä½œï¼Œå¯ä»¥è¯‘ä¸ºâ€œä»£ç†å™¨â€ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> proxy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Proxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(target, handler);</span></span></code></pre><button class="collapse"></button></div><h5 id="å‚æ•°-1" tabindex="-1">å‚æ•° <a class="header-anchor" href="#å‚æ•°-1" aria-label="Permalink to &quot;å‚æ•°&quot;">â€‹</a></h5><p><code>target</code> å‚æ•°è¡¨ç¤ºæ‰€è¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡ï¼Œ<code>handler</code> å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶ä»£ç†æ‹¦æˆªè¡Œä¸ºã€‚ <code>Proxy</code> å¯¹è±¡çš„æ‰€æœ‰ç”¨æ³•ï¼Œéƒ½æ˜¯ä¸Šé¢è¿™ç§å½¢å¼ï¼Œä¸åŒçš„åªæ˜¯ <code>handler</code> å‚æ•°çš„å†™æ³•ã€‚å…¶ä¸­ï¼Œ<code>new Proxy()</code> è¡¨ç¤ºç”Ÿæˆä¸€ä¸ª<code>Proxy</code>å®ä¾‹ã€‚</p><h6 id="handlerè§£æ" tabindex="-1">handlerè§£æ <a class="header-anchor" href="#handlerè§£æ" aria-label="Permalink to &quot;handlerè§£æ&quot;">â€‹</a></h6><p>å…³äºhandleræ‹¦æˆªå±æ€§ï¼Œæœ‰å¦‚ä¸‹ï¼š</p><ul><li><code>get(target,propKey,receiver)</code>ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–</li><li><code>set(target,propKey,value,receiver)</code>ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®</li><li><code>has(target,propKey)</code>ï¼šæ‹¦æˆª<code>propKey in proxy</code>çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li><li><code>deleteProperty(target,propKey)</code>ï¼šæ‹¦æˆª<code>delete proxy[propKey]</code>çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li><li><code>ownKeys(target)</code>ï¼šæ‹¦æˆª<code>Object.keys(proxy)ã€for...in</code>ç­‰å¾ªç¯ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„</li><li><code>getOwnPropertyDescriptor(target, propKey)</code>ï¼šæ‹¦æˆª<code>Object.getOwnPropertyDescriptor(proxy, propKey)</code>ï¼Œè¿”å›å±æ€§çš„æè¿°å¯¹è±¡</li><li><code>defineProperty(target, propKey, propDesc)</code>ï¼šæ‹¦æˆª<code>Object.defineProperty(proxy, propKey, propDesc</code>ï¼‰ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li><li><code>preventExtensions(target)</code>ï¼šæ‹¦æˆª<code>Object.preventExtensions(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li><li><code>getPrototypeOf(target)</code>ï¼šæ‹¦æˆª<code>Object.getPrototypeOf(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡</li><li><code>isExtensible(target)</code>ï¼šæ‹¦æˆª<code>Object.isExtensible(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li><li><code>setPrototypeOf(target, proto)</code>ï¼šæ‹¦æˆª<code>Object.setPrototypeOf(proxy, proto)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li><li><code>apply(target, object, args)</code>ï¼šæ‹¦æˆª <code>Proxy</code> å®ä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œ</li><li><code>construct(target, args)</code>ï¼šæ‹¦æˆª <code>Proxy</code> å®ä¾‹ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œ</li></ul><h5 id="ğŸŒ°" tabindex="-1">ğŸŒ° <a class="header-anchor" href="#ğŸŒ°" aria-label="Permalink to &quot;ğŸŒ°&quot;">â€‹</a></h5><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code v-pre><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> proxy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Proxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">   },{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">   </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    // target æ˜¯è¦ä»£ç†çš„å¯¹è±¡ï¼Œkey æ˜¯è¦è·å–çš„å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    // åŸå¯¹è±¡çš„å±æ€§åç§°åœ¨ä»£ç†ä¹‹åæ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 35</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(proxy.name); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 35</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(proxy.age);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 35</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(proxy.time); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 35</span></span></code></pre><button class="collapse"></button></div><h4 id="reflect" tabindex="-1">Reflect <a class="header-anchor" href="#reflect" aria-label="Permalink to &quot;Reflect&quot;">â€‹</a></h4><p>è‹¥éœ€è¦åœ¨Proxyå†…éƒ¨è°ƒç”¨å¯¹è±¡çš„é»˜è®¤è¡Œä¸ºï¼Œå»ºè®®ä½¿ç”¨Reflectï¼Œå…¶æ˜¯ES6ä¸­æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–° API</p><p>åŸºæœ¬ç‰¹ç‚¹ï¼š</p><p>åªè¦Proxyå¯¹è±¡å…·æœ‰çš„ä»£ç†æ–¹æ³•ï¼ŒReflectå¯¹è±¡å…¨éƒ¨å…·æœ‰ï¼Œä»¥é™æ€æ–¹æ³•çš„å½¢å¼å­˜åœ¨ ä¿®æ”¹æŸäº›Objectæ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ï¼ˆå®šä¹‰ä¸å­˜åœ¨å±æ€§è¡Œä¸ºçš„æ—¶å€™ä¸æŠ¥é”™è€Œæ˜¯è¿”å›falseï¼‰ è®©Objectæ“ä½œéƒ½å˜æˆå‡½æ•°è¡Œä¸º.</p><p>é˜…è¯» Proxy çš„ MDN æ–‡æ¡£ä¸Šå¯èƒ½ä¼šå‘ç°å…¶å® Proxy ä¸­ get é™·é˜±ä¸­è¿˜ä¼šå­˜åœ¨ä¸€ä¸ªé¢å¤–çš„å‚æ•° receiver ã€‚ é€šè¿‡æˆ‘ä»¬ä¸Šè¿°å¯¹ window.Reflect çš„æ‰“å°å¯ä»¥çœ‹åˆ°ï¼ŒReflect çš„æ–¹æ³•ã€å±æ€§å’Œ Proxy æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ Reflect get ä¹Ÿæ˜¯æœ‰è¿™ ç¬¬ä¸‰ä¸ª receiver å±æ€§çš„ï¼›è¿™ä¸ªreceiveræ˜¯è§¦å‘ä»£ç†å¯¹è±¡çš„åŠ«æŒæ—¶ä¿è¯æ­£ç¡®çš„ this ä¸Šä¸‹æ–‡æŒ‡å‘ï¼Œå®ƒæ­£æ˜¯å¯ä»¥ä¿®æ”¹å±æ€§è®¿é—®ä¸­çš„ this æŒ‡å‘ä¸ºä¼ å…¥çš„ receiver å¯¹è±¡ã€‚ä¹Ÿæ˜¯ä¸ºäº†æ¡†æ¶å¥å£®æ€§ã€‚ä½¿ç”¨ Object.defineProperty() é‡å¤å£°æ˜çš„å±æ€§ä¼šæŠ¥é”™ï¼Œå› ä¸º JavaScript æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œä¸€æ—¦æŠ›å‡ºå¼‚å¸¸ï¼Œåè¾¹çš„ä»»ä½•é€»è¾‘éƒ½ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åœ¨åº•å±‚å°±è¦å†™ å¤§é‡çš„ try catch æ¥é¿å…ï¼Œä¸å¤Ÿä¼˜é›…ã€‚ ä½†æ˜¯ä½¿ç”¨ Reflect.defineProperty() æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œæ‰€ä»¥é€šè¿‡ è¿”å›å€¼ æ¥åˆ¤æ–­ä½ å½“å‰æ“ä½œæ˜¯å¦æˆåŠŸã€‚</p><h3 id="è§£å†³vue2-object-definepropertyçš„éš¾é¢˜" tabindex="-1">è§£å†³vue2 Object.definePropertyçš„éš¾é¢˜ <a class="header-anchor" href="#è§£å†³vue2-object-definepropertyçš„éš¾é¢˜" aria-label="Permalink to &quot;è§£å†³vue2 Object.definePropertyçš„éš¾é¢˜&quot;">â€‹</a></h3><ol><li>ä¸€æ¬¡åªèƒ½å¯¹ä¸€ä¸ªå±æ€§è¿›è¡Œç›‘å¬ï¼Œéœ€è¦éå†æ¥å¯¹æ‰€æœ‰å±æ€§ç›‘å¬ã€‚è¿™ä¸ªæˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»è®²è¿‡äº†ã€‚</li><li>åœ¨é‡åˆ°ä¸€ä¸ªå¯¹è±¡çš„å±æ€§è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œéœ€è¦é€’å½’ç›‘å¬ã€‚</li><li>å¯¹äºå¯¹è±¡çš„æ–°å¢å±æ€§ï¼Œéœ€è¦æ‰‹åŠ¨ç›‘å¬</li><li>å¯¹äºæ•°ç»„é€šè¿‡pushã€unshiftæ–¹æ³•å¢åŠ çš„å…ƒç´ ï¼Œä¹Ÿæ— æ³•ç›‘å¬ ä½†æ˜¯çœ‹è¿‡vue3æºç çš„åŒå­¦å¯ä»¥å‘ç°ï¼Œvue3çš„å“åº”å¼å¹¶ä¸æ˜¯åªç”¨äº†proxyæ¥å®ç°çš„ï¼Œè¿˜ç”¨äº†ä¸€ä¸ªæ­æ¡£Reflectã€‚ä¹Ÿå°±æ˜¯Proxy(ä»£ç†) é…åˆ Reflect(åå°„) è¿›è¡Œè®¾è®¡çš„ã€‚é‚£ä¹ˆå°±æœ‰ç–‘é—®äº† ä¸ºä»€ä¹ˆè¦ç”¨ä¸ŠReflectã€‚</li></ol><!--]--><!--[--><!--]--><!--]--><!----><!----></article><!-- </Transition> --><!--]--><!--[--><!--[--><!--v-if--><ul class="post-copyright" m="y-4"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong><span>æ¬£æ¬£å­</span></li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://nightsquirrl.github.io/xx-blog/posts/vue/vue-1" target="_blank" title="æœ¬æ–‡é“¾æ¥">https://nightsquirrl.github.io/xx-blog/posts/vue/vue-1</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong><span>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 ">CC BY-NC-SA</a> è®¸å¯åè®®ã€‚</span></li></ul><!--]--><!--]--></div><!--]--><!----></div><!--[--><!--]--><!--[--><div class="post-nav"><div class="post-nav-item"><a href="/xx-blog/posts/project-init/vue/path-alias" class="post-nav-prev" title="è·¯å¾„åˆ«å"><div class="icon" i-ri-arrow-left-s-line></div><span class="title truncate" text="sm">è·¯å¾„åˆ«å</span></a></div><div class="post-nav-item"><!----></div></div><!--]--><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div><!--]--></main><!--[--><button class="xl:hidden toc-btn shadow-md fixed yun-icon-btn z-350 bg-$va-c-bg-soft" opacity="75" right="2" bottom="19"><div i-ri-file-list-line></div></button><!----><aside flex="~ col" class="va-card yun-aside sticky top-0 lg:top-$yun-margin-top min-h-sm" text="center" overflow="auto"><div style="display:none" class="w-full" flex="~ col" pb-2><!--[--><h2 m="t-6 b-2" font="serif black">æ–‡ç« ç›®å½•</h2><div style="display:none" data-v-233b73a6><div class="content" data-v-233b73a6><div class="outline-title" data-v-233b73a6>On this page</div><div class="outline-marker" data-v-233b73a6></div><nav aria-labelledby="doc-outline-aria-label" data-v-233b73a6><span id="doc-outline-aria-label" class="visually-hidden" data-v-233b73a6>Table of Contents for current page</span><ul class="root va-toc relative z-1 css-i18n-toc" data-v-233b73a6 data-v-699db71a><!--[--><!--]--></ul></nav></div></div><!--]--><div class="flex-grow"></div><!----></div></aside><!--]--><!--]--></div><footer flex="~ col" class="relative yun-footer va-footer px-4 py-4 pt-0 text-$va-c-text-light w-full mt-14" bg="white dark:$va-c-bg-soft" text="center sm"><div class="yun-cloud absolute top--10 left-0 right-0"><svg class="waves" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" fill="var(--yun-c-cloud)"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><!----><div class="copyright flex justify-center items-center gap-2" p="1"><span>Â©<!----> 2024</span><a class="animate-pulse inline-flex" href="https://sponsors.yunyoujun.cn" target="_blank" title="Sponsor YunYouJun"><div class="i-ri-cloud-line"></div></a><span>æ¬£æ¬£å­</span></div><!----><!--[--><!--]--><div class="yun-footer-gradient" style="--gradient-from:161 196 253;--gradient-to:194 233 251"></div></footer><!--]--><!--]--></div><script>window.__INITIAL_STATE__='{"pinia":{"yun-app":{},"app":{"isMobile":false,"showLoading":true},"site":{},"routerStore":{}}}'</script><script type="application/ld+json" data-hid="3437552">{"@context":"https://schema.org","@graph":[{"@id":"https://nightsquirrl.github.io/xx-blog/#identity","@type":"Person","name":"æ¬£æ¬£å­","url":"https://nightsquirrl.github.io/xx-blog/","image":{"@id":"https://nightsquirrl.github.io/xx-blog/#/schema/image/25c4d81"},"sameAs":["https://github.com/","https://music.163.com/"]},{"@id":"https://nightsquirrl.github.io/xx-blog/#website","@type":"WebSite","dateModified":"2024-11-29","datePublished":"2024-11-29","inLanguage":"zh-CN","name":"unplugin-vue-componentsç»„ä»¶è‡ªåŠ¨æŒ‰éœ€å¼•å…¥","url":"https://nightsquirrl.github.io/xx-blog/","publisher":{"@id":"https://nightsquirrl.github.io/xx-blog/#identity"}},{"@id":"https://nightsquirrl.github.io/xx-blog/#webpage","@type":"WebPage","dateModified":"2024-11-29T00:00:00.000Z","datePublished":"2024-11-29T00:00:00.000Z","description":true,"name":"vue3.0 ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Proxyï¼Œå®ƒç›¸æ¯”ä»¥å‰çš„å®ç°æ–¹å¼æœ‰ä»€ä¹ˆæ”¹è¿›","url":"https://nightsquirrl.github.io/xx-blog/","about":{"@id":"https://nightsquirrl.github.io/xx-blog/#identity"},"isPartOf":{"@id":"https://nightsquirrl.github.io/xx-blog/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://nightsquirrl.github.io/xx-blog/"]}]},{"@id":"https://nightsquirrl.github.io/xx-blog/#article","dateModified":"2024-11-29T00:00:00.000Z","datePublished":"2024-11-29T00:00:00.000Z","description":true,"headline":"unplugin-vue-componentsç»„ä»¶è‡ªåŠ¨æŒ‰éœ€å¼•å…¥","inLanguage":"zh-CN","thumbnailUrl":"https://img.picgo.net/2024/11/27/IMG_2742a0295d98a1ea79ee.jpeg","@type":["Article","BlogPosting"],"author":{"@id":"https://nightsquirrl.github.io/xx-blog/#/schema/person/a3b96ce"},"image":{"@id":"https://nightsquirrl.github.io/xx-blog/#/schema/image/25c4d81"},"isPartOf":{"@id":"https://nightsquirrl.github.io/xx-blog/#webpage"},"mainEntityOfPage":{"@id":"https://nightsquirrl.github.io/xx-blog/#webpage"},"publisher":{"@id":"https://nightsquirrl.github.io/xx-blog/#identity"}},{"@id":"https://nightsquirrl.github.io/xx-blog/#/schema/person/a3b96ce","@type":"Person","name":"æ¬£æ¬£å­","url":"xxxxx"},{"@id":"https://nightsquirrl.github.io/xx-blog/#/schema/image/25c4d81","@type":"ImageObject","contentUrl":"https://img.picgo.net/2024/11/27/IMG_2742a0295d98a1ea79ee.jpeg","inLanguage":"zh-CN","url":"https://img.picgo.net/2024/11/27/IMG_2742a0295d98a1ea79ee.jpeg"}]}</script></body></html>